Search.setIndex({docnames:["build_regressors_example","conversion","convert_from_raw_example","examples","file_discovery","index","load_save","load_z_stack_example","loading_preprocessing","main","metadata","misc_main","misc_sync","synchronization","synchronization_for_videos_example"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":4,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,"sphinx.ext.viewcode":1,sphinx:56},filenames:["build_regressors_example.rst","conversion.rst","convert_from_raw_example.rst","examples.rst","file_discovery.rst","index.rst","load_save.rst","load_z_stack_example.rst","loading_preprocessing.rst","main.rst","metadata.rst","misc_main.rst","misc_sync.rst","synchronization.rst","synchronization_for_videos_example.rst"],objects:{"utils2p.Metadata":{get_area_mode:[10,1,1,""],get_channels:[10,1,1,""],get_date_time:[10,1,1,""],get_dwell_time:[10,1,1,""],get_frame_rate:[10,1,1,""],get_gain_a:[10,1,1,""],get_gain_b:[10,1,1,""],get_metadata_value:[10,1,1,""],get_n_averaging:[10,1,1,""],get_n_channels:[10,1,1,""],get_n_flyback_frames:[10,1,1,""],get_n_time_points:[10,1,1,""],get_n_z:[10,1,1,""],get_num_x_pixels:[10,1,1,""],get_num_y_pixels:[10,1,1,""],get_pixel_size:[10,1,1,""],get_power_reg1_start:[10,1,1,""],get_width:[10,1,1,""],get_z_pixel_size:[10,1,1,""],get_z_step_size:[10,1,1,""]},"utils2p.synchronization":{SyncMetadata:[12,0,1,""],beh_idx_to_2p_idx:[1,2,1,""],correct_split_edges:[12,2,1,""],crop_lines:[12,2,1,""],edges:[12,2,1,""],epoch_length_filter:[12,2,1,""],event_based_frame_indices:[12,2,1,""],get_lines_from_sync_file:[8,2,1,""],get_processed_lines:[8,2,1,""],get_start_times:[12,2,1,""],get_times:[12,2,1,""],process_cam_line:[8,2,1,""],process_frame_counter:[8,2,1,""],process_odor_line:[8,2,1,""],process_optical_flow_line:[8,2,1,""],process_stimulus_line:[8,2,1,""],reduce_during_frame:[1,2,1,""]},utils2p:{Metadata:[10,0,1,""],concatenate_z:[11,2,1,""],find_fictrac_file:[4,2,1,""],find_metadata_file:[4,2,1,""],find_optical_flow_file:[4,2,1,""],find_raw_file:[4,2,1,""],find_seven_camera_metadata_file:[4,2,1,""],find_sync_file:[4,2,1,""],find_sync_metadata_file:[4,2,1,""],load_fictrac:[6,2,1,""],load_img:[6,2,1,""],load_optical_flow:[6,2,1,""],load_raw:[6,2,1,""],load_stack_batches:[6,2,1,""],load_stack_patches:[6,2,1,""],load_z_stack:[6,2,1,""],main:[9,3,0,"-"],save_img:[6,2,1,""],synchronization:[13,3,0,"-"]}},objnames:{"0":["py","class","Python class"],"1":["py","method","Python method"],"2":["py","function","Python function"],"3":["py","module","Python module"]},objtypes:{"0":"py:class","1":"py:method","2":"py:function","3":"py:module"},terms:{"0":[0,1,6,8,10,12],"001_co2xzgg":0,"0145":10,"025":[4,12],"05":12,"0s":8,"1":[0,1,2,6,7,8,10,12],"10":[1,8,10,12],"100":[6,11],"105869":12,"11":[8,10],"117000":12,"12":8,"128":[6,10,11],"13":8,"14":8,"1408":6,"1409":8,"15":[6,8,10,12],"16":8,"17":8,"18":[6,8,10],"181227_r15e08":0,"19":8,"1d":1,"1s":8,"2":[0,4,5,6,8,10,11,12],"20":[6,8,10,12],"200":6,"2019":10,"20210803_103010":4,"21":[8,10],"22":8,"23":[6,8],"24":8,"25":[8,12],"256":6,"26":[6,8],"27":8,"2703":8,"28":8,"29":8,"2p":[1,3,4,5,6,8,12],"3":[4,5,6,8,10,12],"30":[1,8,10],"300":6,"30000":8,"308199306062498":10,"36":[0,6],"3d":[6,11],"4":[1,6,8,12],"40":[0,6],"41":[0,6],"4294967288":8,"45":[0,6],"4d":11,"5":[1,6,8,12],"54000":8,"593":10,"5d":11,"6":[5,8,12],"64":11,"6d":11,"7":[8,12],"7136134613556422":1,"75":10,"8":[8,12],"88":10,"9":[8,12],"9223372036854775749":8,"9223372036854775808":[1,8],"boolean":[6,12],"case":[4,6,12],"class":[6,8,10,12],"default":[6,8,12],"do":[5,8],"float":[6,8,10,12],"function":[1,4,5,6,8,10,12],"import":[0,1,2,4,6,7,8,9,10,11,12],"int":[4,6,8,10,12],"new":8,"return":[1,4,6,8,10,11,12],"throw":4,"true":[4,6,8,12],A:[6,10,12],By:[6,8,12],For:[6,10],If:[4,5,6,8,10,12],In:8,It:[5,6,8],On:[0,8,12],The:[1,4,5,6,8,9,12],Then:[5,8],These:8,To:[5,12],Will:6,__file__:[2,7],abl:12,abov:[6,12],acquir:[5,8,13],acquisit:[1,8,12],addit:11,after:8,again:6,all:[1,6,8,10,12],along:10,alreadi:12,also:6,amount:6,an:[4,5,6,8,10,12],appli:[8,12],ar:[1,2,4,6,8,9,10,11,12],arang:[1,12],arbitrari:10,arduino:8,arduino_command:8,area:[10,11],area_mod:10,arg:10,argument:[4,8,12],arrai:[1,6,8,11,12],assum:8,attribut:10,avail:[6,8],averag:[6,8,10],b:[6,10],back:8,ball:6,ball_radiu:6,base:[8,10,12],baselin:6,basler:[0,1,8],batch:6,batch_siz:6,becaus:[2,11],befor:[8,12],beh_idx_to_2p_idx:1,beh_indic:1,behaviour:[1,3,5],behdata:4,below:[5,6],between:[6,8,11],binari:[8,12],binary_lin:12,blurri:12,bool:[4,6,8,12],both:[6,8],boundari:12,bubblemfc_r0:8,build:[3,5],butterworth:8,calcul:[10,12],calibr:6,call:[4,6,8],cam:[1,4,8],cam_lin:[0,1,8,12],camera:[4,8],camera_3:4,camera_:4,can:[5,6,8,9,12],captur:[0,4,6,8,12],capture_metadata:[4,8],capture_on:[0,8,12],chana:10,chanb:10,chang:[4,5,12],channel:[6,10],channela:[2,7],channelb:[2,7],chessboard_gray_u16:6,choic:[1,6],chunk:6,clone:5,co2:0,co2_lin:0,co2_stim:[0,1,8,12],code:5,color:6,com:5,command:[5,8],commun:8,compat:6,comput:[6,8],concaten:11,concatenate_z:11,consecut:6,consid:10,contain:8,continuous_lin:12,control:8,convers:[3,5,13],convert:[1,6,8],convolv:6,copi:5,core:5,coron:11,correct:[10,12],correct_possible_split_edg:12,correct_split_edg:12,correspond:[1,8,12],could:4,count:12,counter:[0,1,8,12],cover:10,creat:[4,5],crop:[8,12],crop_lin:[0,8,12],cropped_lin:12,cut_off:12,dat:[4,6],data:[0,1,2,3,4,5,6,7,8,10,12,13],data_dir:[2,7],date:10,date_tim:10,defin:10,delta_rot_lab_forward:6,delta_rot_lab_sid:6,delta_rot_lab_turn:6,depend:6,describ:12,descript:[6,8],determin:[6,8],dict:6,dict_kei:6,dictionari:[6,8,10],diff:[0,8],differ:[6,8],digit:12,dimens:6,direct:[6,10,11],directli:[6,9],directori:[4,6],discov:4,discoveri:[5,9],disk:6,distanc:10,distinguish:12,doe:6,don:6,down:11,drop:[8,12],dtype:12,due:8,durat:12,dure:[1,6,13],dwell:10,dwell_tim:10,dynam:6,e:[1,5,6,8,10,11,12],each:[1,8,12],edg:[6,8,12],effect:6,element:12,elementtre:[6,10,12],entir:10,entri:8,epfl:5,episode001:4,epoch_length_filt:12,equal:10,equival:10,essenti:9,event:12,event_based_frame_indic:12,event_based_indic:12,event_ind:12,event_numb:12,everi:8,exampl:[1,4,5,6,8,10,11,12],except:4,exclud:12,experi:[4,6,8,10],experiment_dir:[0,8],extract:8,fall:12,fals:[4,6,8,12],fictrac:[4,6],fiji:11,file:[0,3,5,6,8,9,10,12],file_path:8,filter:[6,8,12],filter_onli:8,find:4,find_fictrac_fil:4,find_metadata_fil:[0,2,4,7,8],find_optical_flow_fil:[0,4,6],find_raw_fil:[2,4],find_seven_camera_metadata_fil:[0,1,4,8],find_sync_fil:[0,1,4,8,12],find_sync_metadata_fil:[4,8],first:[5,6,12],first_patch:6,first_patch_without_pad:6,fit:6,flow:[0,4,6,8],fluoresc:6,fly2:0,fly:[6,8],flyback:[8,10],folder:[2,7,8],follow:[5,6,8],form:[4,6,8],forward_po:6,found:4,fov:10,fp:6,frame:[1,3,5,6,8,10,11,12],frame_count:[0,1,8,12],frame_r:10,freed:6,freq:[8,12],frequenc:[1,8,12],from:[2,5,6,7,8,10,12],full:[5,6],full_dynamic_rang:6,g:[1,6,10,11],gain:[6,10],gain_0_i:[0,6],gain_0_x:[0,6],gain_1_i:[0,6],gain_1_x:[0,6],gain_i:6,gain_x:6,gaina:10,gainb:10,gener:[5,6,8],get:12,get_area_mod:10,get_channel:10,get_date_tim:10,get_dwell_tim:10,get_frame_r:10,get_gain_a:10,get_gain_b:10,get_lines_from_h5_fil:[0,1,8,12],get_lines_from_sync_fil:8,get_metadata:6,get_metadata_valu:10,get_n_averag:[8,10],get_n_channel:10,get_n_flyback_fram:[0,10],get_n_time_point:10,get_n_z:[0,8,10],get_num_x_pixel:10,get_num_y_pixel:10,get_pixel_s:10,get_power_reg1_start:10,get_processed_lin:8,get_start_tim:12,get_tim:12,get_width:10,get_z_pixel_s:10,get_z_step_s:10,git:5,github:5,given:[1,6,8,10,12],grab:8,gradient:10,grai:6,green:6,h5:[4,8,12],h5_file:[1,8,12],h5_path:0,h5py:5,ha:[6,8,12],happen:12,have:[1,6,12],height:10,hold:[1,6,8],host:5,http:5,hyperstack:6,hz:12,i:[1,6,8,10,11,12],identifi:4,ignor:8,imag:[2,4,5,6,8,10,13],image_0001_0001:[4,6],imagej:6,img:6,includ:[5,8],increas:[6,8,12],index:[1,5,6,8],indic:[1,6,8,12],indices_2p:1,individu:2,inf:12,inform:[0,8],input:12,instanc:[10,12],instead:8,int64:12,integ:6,integrated_forward_mov:6,integrated_side_mov:6,json:[4,8],jump:11,keep:8,kei:[6,8],kernel:6,kymograph:[10,11],lambda:0,larger:8,last:[4,6,8],latest:5,layer:10,lead:10,leaf:10,len:[1,8,12],length:[1,6,12],level:8,like:6,line:[1,8,10,11,12],line_nam:[1,8,12],list:[8,12],load:[0,3,5,9,10,12,13],load_fictrac:6,load_img:6,load_optical_flow:[0,6],load_raw:[2,6],load_stack_batch:6,load_stack_patch:6,load_z_stack:[6,7],locat:8,logical_and:[0,12],look:6,lsm:10,machin:5,magnitud:12,main:10,make:[5,6],manag:[10,12],mani:6,mark:8,mask:[0,12],matter:8,max:[0,1,6],mean:[0,1],meant:10,memmap:6,memori:6,metadata:[0,2,4,5,6,7,8,9,12],metadata_2p:0,metadata_2p_fil:8,metadata_fil:8,mfc1_r2:8,mfc2_l1:8,microscop:[5,8,9],minim:12,minimum:12,miscellan:[5,9,13],miss:8,mm:6,mode:[10,11],modul:5,monoton:8,more:8,most:4,most_rec:4,mouse_kidney_raw:[1,2,4,6,8,12],mouse_kidney_time_series_z_stack:10,mouse_kidney_z_stack:[4,6,7,8,10],move:6,multipl:[4,6,12],n_averag:10,n_channel:10,n_flyback:10,n_flyback_fram:0,n_step:0,n_time_point:10,n_z:10,name:[4,8,10],ndarrai:[6,8],necessari:[5,6,8,11],need:5,neg:12,neli:5,next:6,node:10,none:[6,8],normal:6,note:[5,6,8],np:[0,1,6,8,11,12],number:[1,6,8,10,12],numpi:[0,1,5,6,8,11,12],object:[6,8],obtain:6,occur:1,odor1:8,odor1b:8,odor1l:8,odor1r:8,odor2:8,odor2b:8,odor2l:8,odor2r:8,odor3:8,odor4:8,odor5:8,odor6:8,odor:8,off:8,one:[6,8,10,12],ones:[6,12],onli:[2,6,8,12],onset:[0,12],open:6,opflow:[0,8,12],opt_flow_lin:0,optflow:4,optflowdata:4,optic:[0,4,6,8],optical_flow:[0,6],optical_flow_fil:6,optical_flow_lin:[8,12],optical_flow_path:0,optin:6,option:[6,8],order:[8,10,12],other:10,otherwis:[10,11],our:8,out:6,output:[4,6],over:12,overal:6,overlap:6,packag:5,pad:6,page:5,paramet:[1,4,6,8,10,11,12],parent:[2,7],patch:6,patch_indic:6,patch_siz:6,path:[2,4,6,7,8,10,12],path_to_metadata_fil:[2,7],pathlib:[2,7],per:[6,8],photon:5,pip:5,pitch:0,pix:10,pixel:10,pixel_s:10,pixelx:10,planar:6,point:[8,10,12],posit:[6,10,11],possibl:[1,8,12],power:10,pre:0,prefer:2,preprocess:[5,13],present:4,print:6,process:[0,1,5,6,8,12,13],process_cam_lin:[0,1,8],process_frame_count:[0,1,8,12],process_odor_lin:8,process_optical_flow_lin:[0,8],process_stimulus_lin:[0,1,8],processed_cam_lin:8,processed_frame_count:8,processed_lin:8,processed_optical_flow_lin:8,processed_stimulus_lin:8,produc:8,provid:[5,13],pwm:8,python:5,radiu:6,rais:4,rang:[6,12],rate:10,raw:[3,4,5,6,8,10],raw_fil:2,read:5,reason:6,recent:4,recod:6,record:[8,10],rectangl:10,red:6,reduc:1,reduce_during_fram:[0,1],reg1_start:10,regressor:[3,5],regul:10,remain:6,remov:[6,8],repositori:5,request:8,resolut:1,resolv:[2,7],respect:8,result:[2,8],retun:6,return_indic:6,rgb:[2,6],rise:[8,12],roll:0,root:[6,10,12],rotat:6,round:[0,6],run:6,runtimeerror:4,s:6,same:[1,8,12],save:[2,5,8,9],save_img:[2,6,7],scale:6,scipi:5,search:[4,5],second:[6,12],second_patch:6,second_patch_without_pad:6,section:11,see:[6,10],seem:6,sensor0:6,sensor1:6,sensor:6,sent:8,separ:8,sequenc:[8,12],serial:8,set:[1,8,12],setup:[4,8],seven:[4,8],seven_camera_metadata:[0,1,8],seven_camera_metadata_fil:8,sever:[6,12],shape:[6,8,11],sharpen:12,shorter:12,should:[1,2,5,6,8,12],side:6,side_po:6,signal:[6,8,12],simultan:6,sinc:[8,12],singl:1,size:[6,8,10,12],slice:[6,8,10],smooth:6,smoothing_kernel:6,so:[5,8],softwar:[4,8],solv:8,some:12,sourc:[1,4,5,6,8,10,11,12],specif:12,specifi:[4,6,12],speed:6,spheric:6,spread:12,squar:10,stack1:[2,6,7],stack2:[2,6,7],stack:[3,5,6,11],standard:8,start:[10,12],start_after_padding_dim_0:6,start_after_padding_dim_1:6,start_patch_dim_0:6,start_patch_dim_1:6,state:8,step:[5,8,10,11],step_siz:8,steps_per_fram:[1,8,12],still:6,stimulu:8,stimulus_during_2p_fram:1,stimulus_lin:[1,8,12],stop_after_padding_dim_0:6,stop_after_padding_dim_1:6,stop_patch_dim_0:6,stop_patch_dim_1:6,store:8,str:[2,4,6,8],string:[6,8,10,12],sum:12,superflu:8,support:2,suppos:8,sure:6,sync:[4,12,13],sync_fil:8,sync_metadata_fil:8,synchron:[3,4,5,8,12],syncmetadata:12,system:[6,8],t:6,tag:10,take:8,tdtomgc6fopt:0,tempor:11,text:8,than:[8,12],thei:6,them:8,thi:[1,4,5,6,8,9,10,11,12,13],thor:13,thorimag:[4,5,6,8,10],thorlab:5,thorrealtimedataset:[4,12],thorsync:[1,4,5,8,12],three:8,tick:[1,12],tif:[3,5,6,7],time:[4,6,8,10,12],time_point:12,time_stamp:6,timelaps:10,timepoint:10,trace:12,traceback:4,transfer:8,treadmil:6,treat:[8,11],tree:10,trial:6,trigger:12,tupl:[6,8,10,12],two:6,txt:4,type:[1,4,6,8,10,11,12],tyx:6,tzyx:6,uint16:2,uint8:[2,6],um:10,unambigu:4,unless:[4,10],unprocess:8,until:6,untitled_001:[4,6],up:[6,11,12],upsampl:1,us:[1,4,5,6,8,9,12],user:1,usual:[8,10],util:5,utils2p:[0,1,2,4,6,7,8,9,10,11,12],valu:[1,4,6,8,10,12],valv:8,vel_pitch:[0,6],vel_rol:[0,6],vel_yaw:[0,6],version:5,video:[3,5],voltag:8,volum:8,wa:[8,12],want:[5,8],waterb:8,we:6,were:8,when:[2,6,10],where:[4,6,12],whether:12,which:[4,6,12],width:10,work:8,x:[0,6,10],xml:[4,6,10,12],y:[6,10],yaw:0,yield:6,you:[5,8],your:5,z:[3,5,6,8,10,11],z_pixel_s:10,z_stack_a:6,z_stack_b:6,z_step_siz:10,zero:[11,12],zero_based_count:12},titles:["Building regressors synchronized to the 2p frames","Conversion of synchronization","Conversion of a raw file into tif file","Examples","File discovery","Welcome to utils2p\u2019s documentation!","Loading and saving","Loading z-stacks","Loading and preprocessing","Core functions","Microscope metadata","Miscellaneous","Miscellaneous","Synchronization functions","Synchronization of 2p data to behaviour frames for videos"],titleterms:{"2p":[0,14],"function":[9,13],behaviour:14,build:0,content:[5,9,13],convers:[1,2],core:9,data:14,depend:5,discoveri:4,document:5,exampl:3,file:[2,4],frame:[0,14],indic:5,instal:5,load:[6,7,8],metadata:10,microscop:10,miscellan:[11,12],modul:[9,13],overview:5,preprocess:8,raw:2,regressor:0,s:5,save:6,stack:7,synchron:[0,1,13,14],tabl:5,tif:2,utils2p:5,video:14,welcom:5,z:7}})